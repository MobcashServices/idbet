<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تسجيل الدخول - خطوة واحدة</title>

  <style>
    :root {
      --header-height: 70px;
      --header-bg: #ffffff;
      --idbet-color: #e50914;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      min-height: 100vh;
      direction: rtl;
    }

    header {
      height: var(--header-height);
      background-color: var(--header-bg);
      display: flex;
      align-items: center;
      padding: 0 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      border-bottom: 1px solid #eee;
      z-index: 10;
    }
    .header-brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 500;
    }
    .header-brand .idbet   { color: var(--idbet-color); font-weight: 700; font-size: 1.2rem; }
    .header-brand .separator{ color:#ccc; font-size:1.2rem; }
    .header-brand .slogan  { color:#555; font-size:.95rem; }

    main {
      min-height: calc(100vh - var(--header-height));
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 10vw;
      background: #f5f5f5;
      gap: 24px;
    }

    .login-box {
      width: 100%;
      max-width: 420px;
      border-radius: 0;
      padding: 32px 24px;
      box-sizing: border-box;
      background: #fff;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .title-wrapper {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      font-size: 1.35rem;
      color: #222;
      font-weight: 600;
    }
    .step-box {
      background-color: var(--idbet-color);
      color: white;
      font-weight: 700;
      font-size: 1.2rem;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
    }

    .input-label {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 8px;
      font-weight: 600;
    }
    .info-icon {
      width: 24px;
      height: 24px;
      border: 2px solid #666;
      border-radius: 50%;
      color: #666;
      font-weight: 700;
      font-size: 1.2rem;
      line-height: 20px;
      text-align: center;
      cursor: help;
      background: transparent;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: background 0.25s, color 0.25s;
      user-select: none;
    }
    .info-icon:hover {
      background: rgba(229, 9, 20, 0.1);
      border-color: #e50914;
      color: #e50914;
    }

    .input-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 16px;
    }
    .input-group input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      outline: none;
      font-size: .95rem;
    }

    .error-message {
      color: #e50914;
      font-size: 0.85rem;
      margin-top: 6px;
      min-height: 20px;
    }

    .login-box p {
      text-align: center;
      margin-bottom: 12px;
      color: #555;
      font-size: .9rem;
    }
    .platform-icons {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px; /* إضافة مسافة أسفل الأيقونات */
    }
    .platform-icons .icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #ddd;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .platform-icons .icon:hover {
      background-color: var(--idbet-color);
    }

    .input-group button {
      background: var(--idbet-color);
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.3s ease;
      width: 100%;
    }
    .input-group button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
      color: #666;
    }
    .input-group button:hover:not(:disabled) {
      background-color: #b20710;
    }

    @media (max-width: 600px) {
      main {
        padding: 16px 16px;
        gap: 16px;
      }
      .login-box {
        max-width: 100%;
        border-radius: 12px;
        padding: 24px 16px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.12);
      }
      .input-group input {
        font-size: 1rem;
      }
      .input-group button {
        font-size: 1rem;
        padding: 12px 20px;
      }
      .platform-icons .icon {
        width: 36px;
        height: 36px;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="header-brand">
      <span class="idbet">Idbet</span>
      <span class="separator">|</span>
      <span class="slogan">وكيل الشحن الرسمي</span>
    </div>
  </header>

  <main>
    <section class="login-box">
      <div class="title-wrapper">
        <div class="step-box">1</div>
        <h2>تسجيل الدخول</h2>
      </div>

      <div class="input-label">
        <label for="player-id-1">معرف اللاعب</label>
        <span class="info-icon" title="ما هو معرف التارغ؟">?</span>
      </div>

      <div class="input-group">
        <input id="player-id-1" type="text" placeholder="الرجاء إدخال المعرف الـ ID" maxlength="10" />
        <div class="error-message" id="error-message"></div>
      </div>

      <p>اختر المنصة المطلوبة. يمكنك اختيارها عبر الضغط.</p>

      <div class="platform-icons">
        <div class="icon" title="منصة 1"></div>
        <div class="icon" title="منصة 2"></div>
        <div class="icon" title="منصة 3"></div>
        <div class="icon" title="منصة 4"></div>
      </div>

      <div class="input-group">
        <button id="login-btn" disabled>تسجيل الدخول</button>
      </div>

    </section>
  </main>

<script>
  const input = document.getElementById('player-id-1');
  const errorMessage = document.getElementById('error-message');
  const loginBtn = document.getElementById('login-btn');

  function isRepeatedNumber(value) {
    return /^(\d)\1{9}$/.test(value);  // رقم متكرر 10 مرات مثل 1111111111
  }

  input.addEventListener('keydown', (e) => {
    const allowedKeys = [
      'Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab', 'Home', 'End'
    ];
    if (
      !allowedKeys.includes(e.key) &&
      !/^\d$/.test(e.key)
    ) {
      e.preventDefault();
    }
  });

  input.addEventListener('input', () => {
    let val = input.value;

    // تنظيف من غير أرقام (في حال تم اللصق)
    val = val.replace(/\D/g, '');
    input.value = val;

    if(val.length === 0) {
      errorMessage.textContent = "الرجاء تعبئة هذا الحقل.";
      loginBtn.disabled = true;
      return;
    }

    if(val.length < 10) {
      errorMessage.textContent = "يجب إدخال 10 أرقام بالضبط.";
      loginBtn.disabled = true;
      return;
    }

    if(isRepeatedNumber(val)) {
      errorMessage.textContent = "المعرف غير صالح: لا يمكن تكرار نفس الرقم 10 مرات.";
      loginBtn.disabled = true;
      return;
    }

    errorMessage.textContent = "";
    loginBtn.disabled = false;
  });

  loginBtn.addEventListener('click', (e) => {
    if(loginBtn.disabled) {
      e.preventDefault();
      input.focus();
    } else {
      alert("تم تسجيل الدخول (محاكاة)");
    }
  });
</script>

</body>
</html>
